<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Account System</title>
    <link rel="stylesheet" type="text/css" href="assets/css/login.css">
</head>
<body>

    <div class="container">
        <!-- Login View -->
        <div id="login-section">
            <h1>Login</h1>
            <div class="input-group">
                <label for="login-contact">Email or Phone</label>
                <input type="text" id="login-contact" placeholder="Enter your email or phone">
            </div>
            <div class="input-group">
                <label for="login-password">Password</label>
                <input type="password" id="login-password">
            </div>
            <button onclick="loginUser()">Login</button>
            <button class="secondary" onclick="showView('otp-section')">Create a New Account</button>
        </div>

        <!-- OTP Verification View -->
        <div id="otp-section" class="hidden">
            <h1>Create Account</h1>
            <p style="text-align:center; color: #606770;">First, let's verify your contact info.</p>
            <div class="radio-group">
                <label>Verification Method:</label>
                <input type="radio" id="method-email" name="method" value="email" checked onchange="toggleInput()"> <label for="method-email">Email</label>
                <input type="radio" id="method-phone" name="method" value="phone" onchange="toggleInput()"> <label for="method-phone">Phone</label>
            </div>
            <div class="input-group" id="email-group">
                <label for="email-input">Email Address</label>
                <input type="email" id="email-input" placeholder="you@example.com">
            </div>
            <div class="input-group hidden" id="phone-group">
                <label for="phone-input">10-digit phone number</label>
                <input type="tel" id="phone-input" placeholder="9876543210" maxlength="10">
            </div>
            <button onclick="sendOTP()">Send OTP</button>
            <button class="secondary" onclick="showView('login-section')">Already have an account?</button>
        </div>

        <!-- OTP Entry View -->
        <div id="otp-verify-section" class="hidden">
            <h2>Verify Code</h2>
            <div class="input-group">
                <label for="otp-input">Enter 6-Digit OTP</label>
                <input type="text" id="otp-input" maxlength="6">
            </div>
            <button onclick="verifyOTP()">Verify Code</button>
        </div>
        
        <!-- Registration (Set Password) View -->
        <div id="register-section" class="hidden">
             <h2>Set Your Password</h2>
             <div class="input-group">
                <label for="register-password">Create a Password</label>
                <input type="password" id="register-password">
             </div>
             <button onclick="registerUser()">Create Account</button>
        </div>

        <!-- Dashboard View -->
        <div id="dashboard-section" class="hidden">
            <h2>My Account</h2>
            <p>Welcome, <strong id="user-welcome-id"></strong>!</p>
            <div id="orders-list">
                <h3>Your Orders</h3>
                <p>You have no orders yet.</p>
            </div>
            <button class="secondary" onclick="logout()">Logout</button>
        </div>

        <p id="status"></p>
    </div>

    <!-- Firebase SDK Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script src="assets/js/java.js"></script>
</body>
</html>
